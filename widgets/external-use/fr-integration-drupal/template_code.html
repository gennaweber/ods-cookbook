<!DOCTYPE html>
<html>

    <head>
        <base href="/">

        <title>ODS Widgets Sandbox</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.css">
    </head>

    <body>

        <div ng-cloak ng-app="ods-widgets">

            <!-- YOUR ODS CODE HERE !!! -->

        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.2/angular.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.8.2/angular-sanitize.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-i18n/1.8.2/angular-locale_fr.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/locale/fr.js"></script>
        <script type="text/javascript" src="https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.min.js"></script> 

        <!-- ODS Translation dict. -->
        <script type="text/javascript">
            var ods = angular.module('ods-widgets');
            ods.run(function(gettextCatalog) {
                gettextCatalog.setStrings('fr', {
                    'Clear all': 'Tout effacer',
                    'More': 'Voir plus',
                    'Less': 'Voir moins',
                    'Download image': 'Télécharger l\'image',
                    '({{ $count }} options)': '({{ $count }} options)',
                    'All': 'Tous',
                    'Clear selection': 'Effacer la sélection',
                    'Filter': 'Filtre',
                    'Hide options': 'Cacher les options',
                    'No option selected': 'Aucune option sélectionnée',
                    'No options': 'Aucune option',
                    'Options are loading...': 'Options en cours de chargement...',
                    'Select one element': 'Sélectionnez un élément',
                    'Select one or more elements': 'Sélectionnez un ou plusieurs éléments',
                    'Show all': 'Tout afficher',
                    'Show options': 'Afficher les options',
                    'Show selection': 'Voir la sélection',
                    '{{ $count }} option selected': [
                        '{{ $count }} option sélectionnée',
                        '{{ $count }} options sélectionnées'
                        ]
                });
                gettextCatalog.setCurrentLanguage('fr');
            });
        </script>

        <!-- urlsync patch -->
        <script type="text/javascript">
            angular.module('ods-widgets').config(function($locationProvider) {
                $locationProvider.html5Mode(true);
            });
        </script>

        <!-- custom basemap -->
        <script type="text/javascript">
            angular.module('ods-widgets').config(function(ODSWidgetsConfigProvider) {
                ODSWidgetsConfigProvider.setConfig({
                    "basemaps": [
                       {
                            "label": "Jawg Streets",
                            "provider": "jawg.streets",
                            "id": "jawg.streets",
                            "jawg_apikey": "xR04uwhHrvdCDoa7fOcwtnzQJ692NTKx1ae0n0QratDbuNgUuzo089KTzubJJ9mc"
                        },
                        {
                            "label": "Jawg Light",
                            "provider": "jawg.light",
                            "id": "jawg.light",
                            "jawg_apikey": "xR04uwhHrvdCDoa7fOcwtnzQJ692NTKx1ae0n0QratDbuNgUuzo089KTzubJJ9mc"
                        },
 		                {
                            "label": "Stamen",
                            "provider": "stamen.toner",
                            "id":"stamen"
                        },
                        {
                            "url": "https://{s}.tile.thunderforest.com/landscape/{z}/{x}/{y}.png",
                            "strictTMS": false,
                            "provider": "custom",
                            "label": "Thunderforest",
                            "id": "land"
                        }
                    ]
                });
            });
        </script>

    </body>

</html>
